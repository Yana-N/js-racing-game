document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".score");const e=document.querySelector(".start"),t=document.querySelector(".game-area"),n=new Image;n.src="../images/dest/super-car.png",n.classList.add("car");const o={ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1},r={start:!1,score:0,speed:5,traffic:3};function d(e){return document.documentElement.clientHeight/e+1}function s(){r.start&&(document.querySelectorAll(".line").forEach((function(e){e.y+=r.speed,e.style.top=e.y+"px",e.y>=document.documentElement.clientHeight&&(e.y=-100)})),document.querySelectorAll(".enemy").forEach((function(e){e.y+=r.speed/2,e.style.top=e.y+"px",e.y>=document.documentElement.clientHeight&&(e.y=-100*r.traffic,e.style.left=Math.floor(Math.random()*(t.offsetWidth-50))+"px")})),o.ArrowLeft&&r.x>0&&(r.x-=r.speed),o.ArrowRight&&r.x<t.offsetWidth-n.offsetWidth&&(r.x+=r.speed),o.ArrowUp&&r.y>0&&(r.y-=r.speed),o.ArrowDown&&r.y<t.offsetHeight-n.offsetHeight&&(r.y+=r.speed),n.style.left=r.x+"px",n.style.top=r.y+"px",requestAnimationFrame(s))}e.addEventListener("click",(function(){e.classList.add("hide"),t.classList.toggle("hide");for(let e=0;e<d(100);e++){const n=document.createElement("div");n.classList.add("line"),n.style.top=100*e+"px",n.y=100*e,t.appendChild(n)}for(let e=0;e<d(100*r.traffic);e++){const n=document.createElement("div");n.classList.add("enemy"),n.y=-100*r.traffic*(e+1),n.style.top=n.y+"px",n.style.left=Math.floor(Math.random()*(t.offsetWidth-50))+"px",t.appendChild(n)}r.start=!0,t.appendChild(n),r.x=n.offsetLeft,r.y=n.offsetTop,requestAnimationFrame(s)})),document.addEventListener("keydown",(function(e){e.preventDefault(),o[e.key]=!0})),document.addEventListener("keyup",(function(e){e.preventDefault(),o[e.key]=!1}))}));